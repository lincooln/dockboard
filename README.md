# Docker Dashboard

Docker Dashboard - это веб-интерфейс для мониторинга и управления Docker-контейнерами. Приложение предоставляет удобную панель управления с возможностью просмотра состояния контейнеров, системной статистики, настройки отображения и управления избранными сервисами.

## Функциональность

### Основные возможности:
- **Мониторинг контейнеров**: Просмотр всех Docker-контейнеров с их статусом (запущен/остановлен), именем, портами и изображением
- **Системная статистика**: Отображение загрузки CPU, использования памяти, информации о дисках и локальных IP-адресах
- **Настройка отображения**: Возможность настраивать внешний вид дашборда (цвета, шрифты, оформление)
- **Управление сервисами**: Скрытие ненужных сервисов, настройка отображаемых имен и URL
- **Сортировка контейнеров**: Сортировка по имени или портам с возможностью группировки по статусу
- **Избранные сайты**: Возможность добавлять избранные веб-сайты для быстрого доступа
- **Детализация контейнеров**: Подробная информация о ресурсах, используемых каждым контейнером
- **Управление контейнерами**: Возможность запускать и останавливать контейнеры прямо из интерфейса

### Особенности:
- **Автоматическое обнаружение**: Автоматическое обнаружение всех Docker-контейнеров на хосте
- **Гибкие настройки**: Возможность настраивать отображение каждого контейнера индивидуально
- **Поддержка Docker Compose**: Корректная обработка контейнеров, запущенных через Docker Compose
- **Отображение дисков**: Показ информации о локальных и смонтированных дисках (SMB, NFS и др.)
- **Темная тема**: Поддержка темной темы с возможностью настройки цветов

## Зависимости

Для работы приложения требуются следующие зависимости:

### Python библиотеки:
- Flask==2.3.3
- docker>=7.1.0
- psutil==5.9.5
- requests==2.31.0

### Системные требования:
- Docker
- Python 3.9+
- Доступ к Docker daemon (через `/var/run/docker.sock`)

## Установка и запуск

### Способ 1: Запуск с помощью Docker Compose (рекомендуется)

1. Склонируйте репозиторий:
```bash
git clone <URL_репозитория>
cd dockerboard
```

2. Запустите приложение:
```bash
docker-compose up -d
```

3. Откройте в браузере: `http://localhost:5000`

### Способ 2: Запуск вручную

1. Установите зависимости:
```bash
pip install -r requirements.txt
```

2. Запустите приложение:
```bash
python app.py
```

3. Откройте в браузере: `http://localhost:5000`

### Способ 3: Сборка и запуск Docker-образа

1. Соберите образ:
```bash
docker build -t docker-dashboard .
```

2. Запустите контейнер:
```bash
docker run -d \
  --name docker-dashboard \
  -p 5000:5000 \
  -v /var/run/docker.sock:/var/run/docker.sock:ro \
  -v dashboard_data:/app/data \
  docker-dashboard
```

## Настройка и использование

### Основные страницы:
- **Главная страница** (`/`): Основной дашборд с контейнерами и системной информацией
- **Настройки** (`/settings`): Управление видимостью сервисов, сортировкой и настройками дисков
- **Оформление** (`/appearance`): Настройка внешнего вида дашборда (цвета, шрифты)
- **Избранные** (`/favorites`): Управление избранными сайтами
- **Детализация** (`/details`): Подробная информация о ресурсах контейнеров

### Настройка контейнеров:
1. На странице настроек можно скрыть ненужные контейнеры, установив им невидимость
2. Можно задать кастомные имена и URL для контейнеров
3. Можно изменить иконки отображения контейнеров
4. Для Docker Compose проектов можно использовать специальные метки:
   - `dashboard.name` - кастомное имя для отображения
   - `dashboard.icon` - иконка для контейнера

### Настройка дисков:
- На странице настроек можно управлять отображением системных и смонтированных дисков
- Поддерживаются различные типы файловых систем: локальные диски, SMB, NFS, SSHFS и др.

### Настройка избранных сайтов:
- На странице избранных можно добавлять веб-сайты для быстрого доступа
- Приложение автоматически пытается получить фавикон для каждого сайта

### Настройка внешнего вида:
- На странице оформления можно настроить цвета, шрифты и другие параметры внешнего вида
- Поддерживается настройка фона, цвета текста, акцентных цветов и размеров шрифтов

## Структура проекта

- `app.py` - Основное Flask-приложение
- `docker_discovery.py` - Модуль обнаружения Docker-контейнеров
- `system_stats.py` - Модуль получения системной статистики
- `settings.py` - Модуль управления настройками
- `templates/` - HTML-шаблоны
- `static/` - Статические файлы (CSS, изображения)
- `requirements.txt` - Зависимости Python
- `Dockerfile` - Файл для сборки Docker-образа
- `docker-compose.yml` - Конфигурация Docker Compose

## Настройка переменных окружения

- `DATA_DIR` - Путь к директории для хранения настроек (по умолчанию: '.')

## Безопасность

Приложение запускается под пользователем с ограниченными правами (UID 1000) для повышения безопасности. Для доступа к Docker-контейнерам требуется доступ к `/var/run/docker.sock`.

## Лицензия

MIT License
